<!-- modules/projects/view.html -->
<div class="projects-header">
  <h2>Мои проекты</h2>
  <button onclick="createProject()">+ Новый проект</button>
</div>
<div id="projects-list"></div>

<script>
  // Инициализация модуля "projects"
  window.initProjects = async () => {
    const res = await fetch('/api/projects');
    const projects = await res.json();
    document.getElementById('projects-list').innerHTML = projects.map(p => `
      <div>${p.name} — <button onclick="openViewer('${p.id}')">Открыть</button></div>
    `).join('');
  };

  window.createProject = () => alert('Форма создания (реализуется отдельно)');
  window.openViewer = (id) => window.open(`/view/${id}`, '_blank');
</script>